import{_ as u,c as k,a as n,b as t,d as c,e as s,f as p,r as o,o as r}from"./app-lSJJfXGm.js";const d="data:image/png;base64,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",g="data:image/png;base64,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",m="data:image/png;base64,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",I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAABZhJREFUeF7t1UmKw0AUBcHS/W/sAYzAW6OSQOVcRINXLQ/8IHnb8Fe7wGuM8Zx4PSae2T/nX8+9a4e98nu2K2/ynlsvIJBbz3vuwwVy7l4rnhbIiitPfodAJg+18DGBLDz20VcJ5OhC6/8vkPU3//mNAglhfH+KQEImAglhCKSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmQgkhGFBehgC6ZlYkJCJQEIYFqSHIZCeiQUJmXwAiIoTEhl0qUsAAAAASUVORK5CYII=",C="/assets/5-DLEhIswy.png",Q="/assets/6-DbbM6Idl.png",v="/assets/7-J0L0diIA.png",h="/assets/8-2Jb-n3Jm.png",A="data:image/png;base64,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",E={},J={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/ImageData",target:"_blank",rel:"noopener noreferrer"},b={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLImageElement/Image",target:"_blank",rel:"noopener noreferrer"};function B(S,a){const e=o("CodeGroupItem"),l=o("CodeGroup"),i=o("ExternalLinkIcon");return r(),k("div",null,[a[12]||(a[12]=n("h2",{id:"前言",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#前言"},[n("span",null,"前言")])],-1)),a[13]||(a[13]=n("p",null,"canvas操作需要新建一个画布，然后在js中获取context进行绘制。 canvas的使用方法主要参考的教程是mdn上的 https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D 。 前端框架用的vue3。",-1)),a[14]||(a[14]=n("h2",{id:"基础使用",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#基础使用"},[n("span",null,"基础使用")])],-1)),a[15]||(a[15]=n("p",null,[s("在html中添加画布,js通过ref获取画布实例，获取context进行绘制。canvas必须要指定width和height属性。"),n("br"),s(" js通过ref获取实例，"),n("code",null,"ref<HTMLCanvasElement>()"),s("是typescript的写法，规定传入的是HTMLCanvasElement，方便之后调用此接口的属性和方法。使用nextTick防止还有html元素没加载完。getContext('2d')获取context，用fillRect填充一个矩形，先提前指定填充样式为黑色。")],-1)),t(l,null,{default:p(()=>[t(e,{title:"html"},{default:p(()=>a[0]||(a[0]=[n("div",{class:"language-html line-numbers-mode","data-highlighter":"prismjs","data-ext":"html","data-title":"html"},[n("pre",null,[n("code",null,[n("span",{class:"line"},[s("  "),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("canvas")])]),s(`
`),n("span",{class:"line"},[s("    "),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"style"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value css language-css"},[n("span",{class:"token property"},"width"),n("span",{class:"token punctuation"},":"),s(" 100%"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token property"},"border-style"),n("span",{class:"token punctuation"},":"),s(" solid"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token property"},"border-width"),n("span",{class:"token punctuation"},":"),s(" 1px")]),n("span",{class:"token punctuation"},'"')])])]),s(`
`),n("span",{class:"line"},[s("    "),n("span",{class:"token attr-name"},"ref"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("canvasRef"),n("span",{class:"token punctuation"},'"')])]),s(`
`),n("span",{class:"line"},[s("    "),n("span",{class:"token attr-name"},":width"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("200"),n("span",{class:"token punctuation"},'"')])]),s(`
`),n("span",{class:"line"},[s("    "),n("span",{class:"token attr-name"},":height"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("200"),n("span",{class:"token punctuation"},'"')])]),s(`
`),n("span",{class:"line"},[s("  "),n("span",{class:"token punctuation"},">")])]),s(`
`),n("span",{class:"line"},"    浏览器不支持canvas"),s(`
`),n("span",{class:"line"},[s("  "),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("canvas")]),n("span",{class:"token punctuation"},">")])]),s(`
`),n("span",{class:"line"})])]),n("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])),_:1}),t(e,{title:"js"},{default:p(()=>a[1]||(a[1]=[n("div",{class:"language-javascript line-numbers-mode","data-highlighter":"prismjs","data-ext":"js","data-title":"js"},[n("pre",null,[n("code",null,[n("span",{class:"line"},[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s("ref"),n("span",{class:"token punctuation"},","),s("nextTick"),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'vue'")]),s(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"const"),s(" canvasRef "),n("span",{class:"token operator"},"="),s(" ref"),n("span",{class:"token operator"},"<"),s("HTMLCanvasElement"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")")]),s(`
`),n("span",{class:"line"},[n("span",{class:"token function"},"nextTick"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"=>"),n("span",{class:"token punctuation"},"{")]),s(`
`),n("span",{class:"line"},[s("    "),n("span",{class:"token keyword"},"if"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("canvasRef"),n("span",{class:"token punctuation"},"."),s("value"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},";")]),s(`
`),n("span",{class:"line"},[s("    "),n("span",{class:"token keyword"},"let"),s(" ctx "),n("span",{class:"token operator"},"="),s(" canvasRef"),n("span",{class:"token punctuation"},"."),s("value"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getContext"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'2d'"),n("span",{class:"token punctuation"},")")]),s(`
`),n("span",{class:"line"},[s("    "),n("span",{class:"token keyword"},"if"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("ctx"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},";")]),s(`
`),n("span",{class:"line"},[s("    ctx"),n("span",{class:"token punctuation"},"."),s("fillStyle"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},"'black'")]),s(`
`),n("span",{class:"line"},[s("    ctx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"fillRect"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"50"),n("span",{class:"token punctuation"},","),n("span",{class:"token number"},"50"),n("span",{class:"token punctuation"},","),n("span",{class:"token number"},"100"),n("span",{class:"token punctuation"},","),n("span",{class:"token number"},"100"),n("span",{class:"token punctuation"},")")]),s(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")")]),s(`
`),n("span",{class:"line"})])]),n("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])),_:1})]),_:1}),a[16]||(a[16]=c('<p>效果如下图<br><img src="'+d+`" alt="图1"></p><h2 id="填充与描边" tabindex="-1"><a class="header-anchor" href="#填充与描边"><span>填充与描边</span></a></h2><h3 id="填充" tabindex="-1"><a class="header-anchor" href="#填充"><span>填充</span></a></h3><p>填充是跟fill相关的</p><ul><li><p>fillRect()就是填充绘制一个矩形。</p></li><li><p>fillText()是填充绘制文字。可以设置对齐方式和基线。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">text</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">ctx</span><span class="token operator">:</span> CanvasRenderingContext2D</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">&quot;bold 30px HarmonyOS Sans SC&quot;</span><span class="token punctuation">;</span></span>
<span class="line">ctx<span class="token punctuation">.</span>textAlign<span class="token operator">=</span><span class="token string">&#39;end&#39;</span></span>
<span class="line">ctx<span class="token punctuation">.</span>textBaseline<span class="token operator">=</span><span class="token string">&#39;hanging&#39;</span></span>
<span class="line">ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#234554&quot;</span><span class="token punctuation">;</span></span>
<span class="line">ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">&quot;文本1&quot;</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果如下图 <img src="`+g+'" alt="图3"></p></li><li><p>fill()是填充当前画布中全部路径构成的形状，如果路径未封闭那么先将其封闭。<br> 由于fill()会首先自动调用closePath()连接当前所有未闭合的路径，可能导致意外的结果，如下图，<br><img src="'+m+`" alt="图2"> 绘制一个圆形并填充为蓝色，但是由于之前绘制的黑色路径未封闭，所以折线与圆形连到了一起。解决方法是先调用一次beginPath()清空当前子路径列表。</p></li><li><p>fillStyle，在填充前设置，填充的样式，可以是颜色，也可以是渐变等属性。下图为填充矩形为黑色的渐变透明。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">gradientRect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">ctx</span><span class="token operator">:</span> CanvasRenderingContext2D</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line"><span class="token keyword">let</span> gradient <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;black&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;#00000000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> gradient<span class="token punctuation">;</span></span>
<span class="line">ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+I+`" alt="图4"></p></li></ul><h3 id="描边" tabindex="-1"><a class="header-anchor" href="#描边"><span>描边</span></a></h3><p>描边是和stroke相关的.</p><ul><li>strokeRect为画一个矩形的边框。</li><li>strokeText为绘制文本的边框，但是为文字描边还是有点勉强，文字描边不如直接在底层偏移一下，多fill几次，这样能在保证文字原有粗细的情况下自由调节边框宽度，效果如下图。<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">//...</span></span>
<span class="line">    ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">&quot;bold 30px HarmonyOS Sans SC&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;black&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">drawTextBorder</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token string">&quot;文本1&quot;</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">&quot;文本1&quot;</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">//绘制边框</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">drawTextBorder</span> <span class="token operator">=</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token parameter"><span class="token literal-property property">ctx</span><span class="token operator">:</span> CanvasRenderingContext2D<span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">str</span><span class="token operator">:</span> string<span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">x</span><span class="token operator">:</span> number<span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">y</span><span class="token operator">:</span> number<span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">size</span><span class="token operator">:</span> number</span></span>
<span class="line">    <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;aqua&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">//移动填充吧</span></span>
<span class="line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> offx <span class="token operator">=</span> <span class="token operator">-</span>size<span class="token punctuation">;</span> offx <span class="token operator">&lt;=</span> size<span class="token punctuation">;</span> offx<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> offy <span class="token operator">=</span> <span class="token operator">-</span>size<span class="token punctuation">;</span> offy <span class="token operator">&lt;=</span> size<span class="token punctuation">;</span> offy<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> x <span class="token operator">+</span> offx<span class="token punctuation">,</span> y <span class="token operator">+</span> offy<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="`+C+'" alt="图5"></li><li>strokeStyle与fill的同理。</li><li>stroke 如果使用路径绘制，只有在最后调用stroke() 路径才会被绘制出来</li></ul><h2 id="绘制图片" tabindex="-1"><a class="header-anchor" href="#绘制图片"><span>绘制图片</span></a></h2>',9)),n("p",null,[a[4]||(a[4]=s("可以使用")),n("a",J,[a[2]||(a[2]=s("imagedata")),t(i)]),a[5]||(a[5]=s("，rgba数组的形式，也可以用html的")),n("a",b,[a[3]||(a[3]=s("Image")),t(i)]),a[6]||(a[6]=s("引入现有图片。这里对Image的使用进行简单介绍。"))]),a[17]||(a[17]=n("p",null,"Image就是html img标签的js形式，用法参考img标签就行，主要设置src图片地址，可能要考虑跨域等问题。",-1)),a[18]||(a[18]=n("h3",{id:"获取本地上传图片",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#获取本地上传图片"},[n("span",null,"获取本地上传图片")])],-1)),n("ul",null,[n("li",null,[a[9]||(a[9]=s("上传图片用到了element-plus的el-upload组件。上传图片后，通过")),a[10]||(a[10]=n("code",null,"URL.createObjectURL()",-1)),a[11]||(a[11]=s("获取url。")),t(l,null,{default:p(()=>[t(e,{title:"html"},{default:p(()=>a[7]||(a[7]=[n("div",{class:"language-html line-numbers-mode","data-highlighter":"prismjs","data-ext":"html","data-title":"html"},[n("pre",null,[n("code",null,[n("span",{class:"line"},[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("el-upload")]),s(),n("span",{class:"token attr-name"},":before-upload"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("handleMainImgUpload"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")])]),s(`
`),n("span",{class:"line"},[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("el-button")]),n("span",{class:"token punctuation"},">")]),s("选择封面图"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("el-button")]),n("span",{class:"token punctuation"},">")])]),s(`
`),n("span",{class:"line"},[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("el-upload")]),n("span",{class:"token punctuation"},">")])]),s(`
`),n("span",{class:"line"})])]),n("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])),_:1}),t(e,{title:"js"},{default:p(()=>a[8]||(a[8]=[n("div",{class:"language-javascript line-numbers-mode","data-highlighter":"prismjs","data-ext":"js","data-title":"js"},[n("pre",null,[n("code",null,[n("span",{class:"line"},[n("span",{class:"token keyword"},"const"),s(" mainImg "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Image"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),s(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token literal-property property"},"handleMainImgUpload"),n("span",{class:"token operator"},":"),s(" UploadProps"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"beforeUpload"'),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"file"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{")]),s(`
`),n("span",{class:"line"},[s("mainImg"),n("span",{class:"token punctuation"},"."),s("src "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token constant"},"URL"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"createObjectURL"),n("span",{class:"token punctuation"},"("),s("file"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),s(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},";")]),s(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";")]),s(`
`),n("span",{class:"line"})])]),n("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])),_:1})]),_:1})])]),a[19]||(a[19]=c(`<h3 id="引用外部地址图片" tabindex="-1"><a class="header-anchor" href="#引用外部地址图片"><span>引用外部地址图片</span></a></h3><ul><li>我的需求是引用b站视频的封面。首先要调用api获取视频相关的信息，因为axois没法发送跨域请求，iframe也没法跨域获取其中内容，所以使用jsonp，安装第三方依赖vue-jsonp,在发送的请求后加上参数<code>{jsonp:jsonp&#39;}</code>就行了。</li><li>获取到封面地址后，和本地图片一样，将地址赋值给subImg.src。这样浏览器会自动发送请求获取图片，</li><li>外部链接存在跨域问题，导致请求回复403。可以通过设置图片请求不携带referrer解决：<code>subImg.referrerPolicy = &quot;no-referrer&quot;;</code>。</li><li>绘制到画布上，在画布将其内容导出为png图片时还会遇到跨域问题而无法导出，通过设置crossOrigin解决<code>subImg.crossOrigin = &quot;Anonymous&quot;;</code>。<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">const</span> subImg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    subImg<span class="token punctuation">.</span>referrerPolicy <span class="token operator">=</span> <span class="token string">&quot;no-referrer&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    subImg<span class="token punctuation">.</span>crossOrigin <span class="token operator">=</span> <span class="token string">&quot;Anonymous&quot;</span><span class="token punctuation">;</span> </span>
<span class="line">    subImg<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">handleChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span> String</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">jsonp</span><span class="token punctuation">(</span><span class="token string">&quot;xxxxx&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">jsonp</span><span class="token operator">:</span> <span class="token string">&quot;jsonp&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        subImg<span class="token punctuation">.</span>src <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>cover<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="将图片绘制到画布上" tabindex="-1"><a class="header-anchor" href="#将图片绘制到画布上"><span>将图片绘制到画布上</span></a></h3><p>绘制图片使用ctx.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);<br> 设置图片的src后，图片加载完需要一定时间，所以需要等待图片加载完后再进行绘制。应在img.onload中调用drawImage()</p><ul><li>image-图像资源，即上面获取到的本地或外部图片</li><li>sx，sy，sWidth，sHeight-用于裁切图片，分别是裁切起点和裁切宽高，sx和sy可以是负数，相当于图片左侧和上方有透明区域。</li><li>dx，dy，dWidth，dHeight是在裁切下来的图片在画布上绘制的起点和宽高，dx，dy同样可以为负，dWidth，dHeight为负则会翻转图像。dWidth和dHeight如果不等于裁切宽高，则会在将图片画布上进行缩放。</li><li>sWidth和sHeight是按图片未经dWidth，dHeight缩放时算的。如果我有一张超出画布尺寸的图片，想通过缩放修改其在画布上的尺寸并保证能填满画布，<strong>那么裁切宽高应该/缩放倍率,缩放宽高应该等于缩放后的宽高</strong>。比如图片原尺寸1920*1080，我想裁切一块，并且将裁切的这块宽高*0.5后绘制到画布上，要求绘制到画布上的宽高均为100，那么我需要设置sWidth,sHeight为200，dWidth，dHeight为100。如图所示。<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">handleMainImgUpload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">file</span><span class="token operator">:</span> File</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    mainImg<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvasRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    mainImg<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span></span>
<span class="line">        ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>mainImg<span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>mainImg<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="`+Q+`" alt="图6"></li></ul><h3 id="将图片裁切至任意形状" tabindex="-1"><a class="header-anchor" href="#将图片裁切至任意形状"><span>将图片裁切至任意形状</span></a></h3><p>我们经常需要对图片进行裁切，使用drawImage裁切图片只能裁切矩形而且计算起来很麻烦，所以使用<code>globalCompositeOperation</code>或<code>clip()</code>来进行自定义裁切。 参考教程：https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Tutorial/Compositing</p><h4 id="使用图片叠加选项-globalcompositeoperation" tabindex="-1"><a class="header-anchor" href="#使用图片叠加选项-globalcompositeoperation"><span>使用图片叠加选项 globalCompositeOperation</span></a></h4><p>设置canvas全局的组合选项为source-atop，让新图片仅绘制在当前画布存在图案的区域。</p><ol><li>用fillRect()填满画布，使用path绘制需要的形状（比如圆角矩形）并填充，设置叠加选项为用source-in，画布内容只留下path填充的形状，其余为透明。</li><li>设置叠加选项为source-atop, 绘制图片，图片只会绘制在形状内部。如下图<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token function">drawRadiusRect</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">ctx<span class="token punctuation">.</span>globalCompositeOperation <span class="token operator">=</span> <span class="token string">&quot;source-atop&quot;</span><span class="token punctuation">;</span></span>
<span class="line">ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>mainImg<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">ctx<span class="token punctuation">.</span>globalCompositeOperation <span class="token operator">=</span> <span class="token string">&quot;source-over&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">drawRadiusRect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">ctx</span><span class="token operator">:</span> CanvasRenderingContext2D<span class="token punctuation">,</span> <span class="token literal-property property">stroke</span><span class="token operator">:</span> boolean</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> radius <span class="token operator">=</span> <span class="token number">70</span><span class="token punctuation">;</span></span>
<span class="line">    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    ctx<span class="token punctuation">.</span><span class="token function">quadraticCurveTo</span><span class="token punctuation">(</span><span class="token number">400</span> <span class="token operator">+</span> radius<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">400</span> <span class="token operator">+</span> radius<span class="token punctuation">,</span>radius<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//画曲线，第一个坐标是直角的坐标，第二个是目标位置</span></span>
<span class="line">    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">400</span> <span class="token operator">+</span> radius<span class="token punctuation">,</span> <span class="token number">800</span> <span class="token operator">-</span> radius<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    ctx<span class="token punctuation">.</span><span class="token function">quadraticCurveTo</span><span class="token punctuation">(</span><span class="token number">400</span> <span class="token operator">+</span> radius<span class="token punctuation">,</span><span class="token number">800</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">,</span><span class="token number">800</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">800</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    ctx<span class="token punctuation">.</span>globalCompositeOperation <span class="token operator">=</span> <span class="token string">&quot;source-over&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;white&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> m<span class="token punctuation">.</span>fullWidth<span class="token punctuation">,</span> m<span class="token punctuation">.</span>fullHeight<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    ctx<span class="token punctuation">.</span>globalCompositeOperation <span class="token operator">=</span> <span class="token string">&quot;source-in&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;black&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    ctx<span class="token punctuation">.</span>globalCompositeOperation <span class="token operator">=</span> <span class="token string">&quot;source-over&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="`+v+'" alt="图7"></li></ol><h4 id="使用路径裁切-clip" tabindex="-1"><a class="header-anchor" href="#使用路径裁切-clip"><span>使用路径裁切 clip()</span></a></h4><p>clip一次只能设置一个区域，如果要裁切多个区域，需要先save()保存当前画布状态，clip完再restore()恢复原始状态。</p><ul><li>可以参考上面的mdn教程。</li></ul><h3 id="按顺序绘制多张图片" tabindex="-1"><a class="header-anchor" href="#按顺序绘制多张图片"><span>按顺序绘制多张图片</span></a></h3><ul><li>有时图片需要按顺序绘制，那么使用promise即可</li></ul><h2 id="绘制路径" tabindex="-1"><a class="header-anchor" href="#绘制路径"><span>绘制路径</span></a></h2><p>具体教程可以参考文章开头的mdn教程</p><ol><li>beginPath() 清空当前子路径列表，并开始新的绘制</li><li>moveTo() 准备在哪个坐标开始画</li><li>lineTo() 画直线，从当前坐标到哪个坐标</li><li>quadraticCurveTo() 画曲线</li><li>closePath() 闭合当前全部路径</li><li>fill()/stroke() 将绘制路径填充/描边，只有调用此方法后，画布上才会真正显示图形</li></ol><h2 id="阴影" tabindex="-1"><a class="header-anchor" href="#阴影"><span>阴影</span></a></h2><p>canvas可以为绘制的图片或路径添加阴影，仅当shadowColor不为全透明时生效。可以设置的属性有shadowBlur，shadowColor，shadowOffsetX。shadowOffsetY。如下图<br><img src="'+h+`" alt="图8"></p><h2 id="保存和恢复当前状态" tabindex="-1"><a class="header-anchor" href="#保存和恢复当前状态"><span>保存和恢复当前状态</span></a></h2><p>使用save()和restore()来保存当前的一些样式设置，样式已经设置会全局有效，所以在绘制一些图案时如果修改了样式，可能导致之后的绘制出错，此时可以在自定义绘制前调用save()保存原始状态，绘制后调用restore()恢复原始状态。如图，由于在其他函数里更改了fillStyle，导致想绘制的黑色矩形变为了蓝色。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>canvasRef<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvasRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ctx<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">//想绘制一个黑色矩形</span></span>
<span class="line">    ctx<span class="token punctuation">.</span>fillStyle<span class="token operator">=</span><span class="token string">&#39;black&#39;</span></span>
<span class="line">    <span class="token comment">//但是先做了一些其他操作</span></span>
<span class="line">    <span class="token function">someOption</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span></span>
<span class="line">    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">someOption</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">ctx</span><span class="token operator">:</span> CanvasRenderingContext2D</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// ctx.save()</span></span>
<span class="line">    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&#39;blue&#39;</span></span>
<span class="line">    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment">// ctx.restore()</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+A+'" alt="图9"></p>',24))])}const U=u(E,[["render",B],["__file","index.html.vue"]]),Y=JSON.parse('{"path":"/blogs/2022/summer/batchCover/","title":"使用vue3 + h5 canvas 绘制2d图片和文字","lang":"zh-CN","frontmatter":{"date":"2022-08-09 16:58","title":"使用vue3 + h5 canvas 绘制2d图片和文字","categories":["技术"],"tags":["图片处理","哔哩哔哩","canvas","vue"]},"headers":[{"level":2,"title":"前言","slug":"前言","link":"#前言","children":[]},{"level":2,"title":"基础使用","slug":"基础使用","link":"#基础使用","children":[]},{"level":2,"title":"填充与描边","slug":"填充与描边","link":"#填充与描边","children":[{"level":3,"title":"填充","slug":"填充","link":"#填充","children":[]},{"level":3,"title":"描边","slug":"描边","link":"#描边","children":[]}]},{"level":2,"title":"绘制图片","slug":"绘制图片","link":"#绘制图片","children":[{"level":3,"title":"获取本地上传图片","slug":"获取本地上传图片","link":"#获取本地上传图片","children":[]},{"level":3,"title":"引用外部地址图片","slug":"引用外部地址图片","link":"#引用外部地址图片","children":[]},{"level":3,"title":"将图片绘制到画布上","slug":"将图片绘制到画布上","link":"#将图片绘制到画布上","children":[]},{"level":3,"title":"将图片裁切至任意形状","slug":"将图片裁切至任意形状","link":"#将图片裁切至任意形状","children":[]},{"level":3,"title":"按顺序绘制多张图片","slug":"按顺序绘制多张图片","link":"#按顺序绘制多张图片","children":[]}]},{"level":2,"title":"绘制路径","slug":"绘制路径","link":"#绘制路径","children":[]},{"level":2,"title":"阴影","slug":"阴影","link":"#阴影","children":[]},{"level":2,"title":"保存和恢复当前状态","slug":"保存和恢复当前状态","link":"#保存和恢复当前状态","children":[]}],"git":{"createdTime":1660119879000,"updatedTime":1660119879000,"contributors":[{"name":"ewt45","email":"79033456+ewt45@users.noreply.github.com","commits":1}]},"filePathRelative":"blogs/2022/summer/batchCover/index.md"}');export{U as comp,Y as data};
