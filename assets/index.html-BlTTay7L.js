import{_ as i,c as p,a as n,d as t,e,b as l,r as o,o as r}from"./app-lSJJfXGm.js";const d="/assets/image-B3JRuM0m.png",c="/assets/image-1-DgHSnZtx.png",u="data:image/png;base64,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",v="/assets/image-4-CWTDj5pS.png",m="/assets/image-5-BDfTMp3k.png",k="/assets/image-6-D9aQe6bg.png",g="/assets/image-7-Cueqi7vT.png",h="/assets/image-8-BxRBtIlP.png",b={},f={href:"https://cloud.tencent.com/document/product/1207/44642",target:"_blank",rel:"noopener noreferrer"},x={href:"https://www.v2ex.com/t/935577",target:"_blank",rel:"noopener noreferrer"},w={href:"https://www.v2ex.com/t/1066533",target:"_blank",rel:"noopener noreferrer"},y={href:"https://whois.is/blog/cloudflare-whois-privacy/",target:"_blank",rel:"noopener noreferrer"},A={href:"https://www.v2ex.com/t/762407",target:"_blank",rel:"noopener noreferrer"},B={href:"https://www.v2ex.com/t/914985",target:"_blank",rel:"noopener noreferrer"},C={href:"https://www.v2ex.com/t/1013585",target:"_blank",rel:"noopener noreferrer"},S={href:"https://www.zhihu.com/question/350802951",target:"_blank",rel:"noopener noreferrer"},E={href:"https://console.cloud.tencent.com/cns",target:"_blank",rel:"noopener noreferrer"},O={href:"https://cloud.tencent.com/document/product/302/105673",target:"_blank",rel:"noopener noreferrer"},N={href:"https://yoncise.com/2013/07/03/DNS-%E5%92%8C-Nameserver-%E7%9A%84%E5%8C%BA%E5%88%AB/",target:"_blank",rel:"noopener noreferrer"},T={href:"https://flask.palletsprojects.com/en/stable/deploying/",target:"_blank",rel:"noopener noreferrer"},q={href:"https://flask.palletsprojects.com/en/stable/deploying/gunicorn/",target:"_blank",rel:"noopener noreferrer"},D={href:"https://flask.palletsprojects.com/en/stable/deploying/nginx/",target:"_blank",rel:"noopener noreferrer"},j={href:"https://blog.csdn.net/zybsjn/article/details/142672298",target:"_blank",rel:"noopener noreferrer"},F={href:"https://dev.to/chand1012/how-to-host-a-flask-server-with-gunicorn-and-https-942",target:"_blank",rel:"noopener noreferrer"},G={href:"https://docs.gunicorn.org/",target:"_blank",rel:"noopener noreferrer"},H={href:"https://flask.palletsprojects.com/en/stable/deploying/gunicorn/",target:"_blank",rel:"noopener noreferrer"},I={href:"https://cloud.tencent.com/developer/article/1493641",target:"_blank",rel:"noopener noreferrer"},M={href:"https://www.ssllabs.com/ssltest/index.html",target:"_blank",rel:"noopener noreferrer"},P={href:"https://console.cloud.tencent.com/ssl",target:"_blank",rel:"noopener noreferrer"},Q={href:"https://github.com/acmesh-official/acme.sh",target:"_blank",rel:"noopener noreferrer"},L={href:"https://github.com/acmesh-official/acme.sh/wiki/%E8%AF%B4%E6%98%8E",target:"_blank",rel:"noopener noreferrer"},X={href:"https://github.com/acmesh-official/acme.sh/issues/2622",target:"_blank",rel:"noopener noreferrer"},R={href:"https://www.cnblogs.com/chenjunjie12321/p/9226279.html",target:"_blank",rel:"noopener noreferrer"},z={href:"https://blog.csdn.net/liulangdewoniu/article/details/116459468",target:"_blank",rel:"noopener noreferrer"},J={href:"https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-ssh",target:"_blank",rel:"noopener noreferrer"},Y={href:"https://aka.ms/vscode-remote/ssh/tutorial",target:"_blank",rel:"noopener noreferrer"},K={href:"https://console.cloud.tencent.com/lighthouse/sshkey/index",target:"_blank",rel:"noopener noreferrer"};function U(W,s){const a=o("ExternalLinkIcon");return r(),p("div",null,[s[53]||(s[53]=n("h2",{id:"腾讯云",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#腾讯云"},[n("span",null,"腾讯云")])],-1)),s[54]||(s[54]=n("p",null,"双十一，买了99一年的轻量应用服务器",-1)),s[55]||(s[55]=n("p",null,[n("img",{src:d,alt:"alt text"})],-1)),s[56]||(s[56]=n("p",null,[e("记录一下入口："),n("br"),e(" 顶端 - 产品 - 云服务器"),n("br"),e(" https://cloud.tencent.com/product/cvm "),n("br"),e(" 往下滑一点，上云精选的卡片 点击前往"),n("br"),e(" 往下滑一点，同价续费 - 选择 轻量2核境外")],-1)),n("p",null,[s[1]||(s[1]=e("实例创建完成后，可以使用OrcaTerm远程终端 ")),n("a",f,[s[0]||(s[0]=e("一键免密登录实例")),l(a)]),s[2]||(s[2]=e(" 。"))]),s[57]||(s[57]=n("p",null,"查看轻量服务器实例： https://console.cloud.tencent.com/lighthouse/instance/index",-1)),s[58]||(s[58]=n("p",null,"基本使用： 在网页，服务器列表里，点登录按钮 一键登录。第三方登录要先在三个点里重置密码。 一键登录是用腾讯的orcaterm，跳转到对应的网页终端",-1)),s[59]||(s[59]=n("h2",{id:"域名",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#域名"},[n("span",null,"域名")])],-1)),n("ul",null,[n("li",null,[n("a",x,[s[3]||(s[3]=e("长期域名在哪里买便宜")),l(a)])]),n("li",null,[n("a",w,[s[4]||(s[4]=e("你们都在哪儿买的域名")),l(a)])])]),s[60]||(s[60]=n("p",null,"买域名要填身份信息，可以用whois查任何域名的身份信息。cf好像会自动隐藏一些",-1)),s[61]||(s[61]=n("blockquote",null,[n("p",null,"Cloudflare 将删除发送到此域的 WHOIS 记录的所有个人信息。")],-1)),n("p",null,[n("a",y,[s[5]||(s[5]=e("whois的说明")),l(a)]),s[6]||(s[6]=e(". 好像是说在cf买的域名自动包含隐私服务。"))]),s[62]||(s[62]=n("blockquote",null,[n("p",null,"Cloudflare WHOIS privacy is included for free with domain registrations through their registrar. Traditional domain privacy often incurs an additional annual fee.")],-1)),s[63]||(s[63]=n("p",null,"在cloudflare买, 用paypal付款，出现报错",-1)),s[64]||(s[64]=n("blockquote",null,[n("p",null,"很抱歉，设置时出现错误。")],-1)),s[65]||(s[65]=n("p",null,[n("img",{src:c,alt:"alt text"})],-1)),n("p",null,[n("a",A,[s[7]||(s[7]=e("参考")),l(a)]),s[8]||(s[8]=e(", 如果f12看到422报错，把手机号的小数点去掉。 post时确实有个小数点,但表单里没有，应该不影响吧 ")),s[9]||(s[9]=n("img",{src:u,alt:"alt text"},null,-1))]),s[66]||(s[66]=n("p",null,"其他还有说网络不要开代理 / 等几天再试 / paypal转美区 / 换信用卡 / 银联借记卡 开通网上银行和境外支付 / paypal",-1)),n("ul",null,[n("li",null,[n("a",B,[s[10]||(s[10]=e("CloudFlare 付款的正确姿势是什么?")),l(a)])]),n("li",null,[n("a",C,[s[11]||(s[11]=e("cloudflare 买域名付款，总是不成功怎么办？")),l(a)])]),n("li",null,[n("a",S,[s[12]||(s[12]=e("Paypal所谓的支持银联借记卡，实际只能绑定，支付时还是会出问题导致付款失败?")),l(a)])])]),s[67]||(s[67]=n("p",null,"尝试改了一堆paypal和银联卡的设置，都没有任何卵用。",-1)),s[68]||(s[68]=n("p",null,"最后换了namesilo.com，直接支付宝啥也不用操心。。。",-1)),s[69]||(s[69]=n("p",null,"域名：dododonut.org",-1)),s[70]||(s[70]=n("p",null,"然后去腾讯云实例 - 域名解析",-1)),s[71]||(s[71]=n("p",null,[n("img",{src:v,alt:"alt text"})],-1)),n("p",null,[s[14]||(s[14]=e("提示未生效。点击跳转到 ")),n("a",E,[s[13]||(s[13]=e("云解析DNS")),l(a)])]),s[72]||(s[72]=n("p",null,[n("img",{src:m,alt:"alt text"})],-1)),n("p",null,[s[16]||(s[16]=e("发现当前域名的dns服务器是namesilo给的默认的，需要去namesilo里，把这个域名的dns服务器")),n("a",O,[s[15]||(s[15]=e("改成腾讯云提供的")),l(a)]),s[17]||(s[17]=e(" （namesilo里这个叫name server....）"))]),n("p",null,[s[19]||(s[19]=e("一些名词概念的解释：")),n("a",N,[s[18]||(s[18]=e("DNS-和-Nameserver-的区别")),l(a)])]),s[73]||(s[73]=t('<p>然后等几个小时或者几天，可以通过 <code>ping 域名</code> 来检查dns服务器是否生效。ip显示为服务器ip就是生效了。</p><p>突然发现还有一种方法是修改dns record，直接填ip就行。两者同时修改时 只有dns服务器生效 https://www.1deng.me/namesilo-dns.html</p><h2 id="flask-web服务器" tabindex="-1"><a class="header-anchor" href="#flask-web服务器"><span>flask web服务器</span></a></h2><blockquote><p>python用自带的模块运行web服务器(http)： 进入网站根目录，运行<code>python -m http.server 端口号</code><br> 需要点进实例，防火墙添加端口号 设置为允许，就能用公网ip+端口访问了。</p></blockquote><p>flask是个py模块，可以用来编写网页 flask提供的web服务器能力有限，开发时可以，但生产环境下部署时用WSGI服务器，如gunicorn。 然后再加一层nginx用于反代，顺便配置ssl证书（https）</p>',5)),n("p",null,[n("a",T,[s[20]||(s[20]=e("部署")),l(a)]),s[21]||(s[21]=e("：自己托管：wsgi服务器+nginx，或其他托管平台"))]),n("ul",null,[n("li",null,[n("a",q,[s[22]||(s[22]=e("Gunicorn")),l(a)])]),n("li",null,[n("a",D,[s[23]||(s[23]=e("nginx")),l(a)])]),n("li",null,[n("a",j,[s[24]||(s[24]=e("使用 Nginx 和 Gunicorn 部署 Flask 项目详细教程")),l(a)])]),n("li",null,[n("a",F,[s[25]||(s[25]=e("How to Host a Flask Server With Gunicorn and HTTPS")),l(a)])])]),s[74]||(s[74]=t(`<p>安装</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 首先创建venv</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> python3.12-venv</span>
<span class="line">python3 <span class="token parameter variable">-m</span> venv ~/py_venv</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 执行activate，进入venv</span></span>
<span class="line"><span class="token builtin class-name">source</span> ~/py_venv/bin/activate</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 安装flask</span></span>
<span class="line">pip <span class="token function">install</span> flask</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>创建<code>app.py</code></p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask</span>
<span class="line"></span>
<span class="line">app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">hello_world</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token string">&quot;&lt;p&gt;Hello, World!&lt;/p&gt;&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行flask</p><ul><li><code>flask [--app name] run --port 3498 --host=0.0.0.0</code></li><li>如果文件名叫app.py，可以省略<code>--app 文件名</code></li><li>端口号默认5000,这里改成自己的。</li><li>host默认是127.0.0.1,即只允许本地。改成0.0.0.0允许从外部访问。</li></ul><p>ok了，http的可以访问了</p><h2 id="gunicorn" tabindex="-1"><a class="header-anchor" href="#gunicorn"><span>gunicorn</span></a></h2>`,8)),n("p",null,[n("a",G,[s[26]||(s[26]=e("guinicorn文档")),l(a)]),n("a",H,[s[27]||(s[27]=e("flask上的教程")),l(a)])]),s[75]||(s[75]=t(`<h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h3><p><code>pip install gunicorn</code> 如果要使用异步workers需要安装 <code>eventlet</code>或<code>gevent</code></p><h3 id="手动运行-http-ip访问" tabindex="-1"><a class="header-anchor" href="#手动运行-http-ip访问"><span>手动运行（http+ip访问）</span></a></h3><p><code>gunicorn -w 3 -b 0.0.0.0:3498 app:app</code></p><ul><li><code>-w</code> 表示使用几个工作线程。推荐个数为cpu核心*2</li><li><code>-b</code> 绑定host和端口</li><li><code>{module_import}:{app_variable}</code> 这里第一个app代表模块名，我这里文件名为<code>app.py</code>所以模块名就是app，第二个app代表Flask实例名，即app.py中有代码<code>app = Flask(__name__)</code></li><li>因为不是把<code>app.py</code>当作模块而非直接运行，所以在main里的app.run的配置不会生效。</li></ul><h3 id="配置开机自动运行-systemd" tabindex="-1"><a class="header-anchor" href="#配置开机自动运行-systemd"><span>配置开机自动运行（systemd）</span></a></h3><p>使用systemd</p><p>创建配置文件 <code>/etc/systemd/system/gunicorn.service</code></p><div class="language-ini line-numbers-mode" data-highlighter="prismjs" data-ext="ini" data-title="ini"><pre><code><span class="line"><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Unit</span><span class="token punctuation">]</span></span></span>
<span class="line"><span class="token key attr-name">Description</span><span class="token punctuation">=</span><span class="token value attr-value">Gunicorn Flask Application</span></span>
<span class="line"><span class="token key attr-name">After</span><span class="token punctuation">=</span><span class="token value attr-value">network.target</span></span>
<span class="line"><span class="token key attr-name">After</span><span class="token punctuation">=</span><span class="token value attr-value">systemd-user-sessions.service</span></span>
<span class="line"><span class="token key attr-name">After</span><span class="token punctuation">=</span><span class="token value attr-value">network-online.target</span></span>
<span class="line"></span>
<span class="line"><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Service</span><span class="token punctuation">]</span></span></span>
<span class="line"><span class="token key attr-name">User</span><span class="token punctuation">=</span><span class="token value attr-value">lighthouse</span></span>
<span class="line"><span class="token key attr-name">Type</span><span class="token punctuation">=</span><span class="token value attr-value">simple</span></span>
<span class="line"><span class="token key attr-name">ExecStart</span><span class="token punctuation">=</span><span class="token value attr-value">/home/lighthouse/flask/start.sh</span></span>
<span class="line"><span class="token key attr-name">TimeoutSec</span><span class="token punctuation">=</span><span class="token value attr-value">30</span></span>
<span class="line"><span class="token key attr-name">Restart</span><span class="token punctuation">=</span><span class="token value attr-value">on-failure</span></span>
<span class="line"><span class="token key attr-name">RestartSec</span><span class="token punctuation">=</span><span class="token value attr-value">15</span></span>
<span class="line"><span class="token key attr-name">StartLimitInterval</span><span class="token punctuation">=</span><span class="token value attr-value">350</span></span>
<span class="line"><span class="token key attr-name">StartLimitBurst</span><span class="token punctuation">=</span><span class="token value attr-value">10</span></span>
<span class="line"></span>
<span class="line"><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Install</span><span class="token punctuation">]</span></span></span>
<span class="line"><span class="token key attr-name">WantedBy</span><span class="token punctuation">=</span><span class="token value attr-value">multi-user.target</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>要执行的<code>/home/lighthouse/flask/start.sh</code> 内容如下。给予执行权限<code>chmod +x</code></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token shebang important">#!/bin/bash</span></span>
<span class="line"><span class="token assign-left variable"><span class="token environment constant">HOME</span></span><span class="token operator">=</span>/home/lighthouse</span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&#39;Starting gunicorn Flask app (systemd).&#39;</span></span>
<span class="line"><span class="token builtin class-name">source</span> <span class="token environment constant">$HOME</span>/py_venv/bin/activate</span>
<span class="line"><span class="token builtin class-name">cd</span> <span class="token environment constant">$HOME</span>/flask</span>
<span class="line">gunicorn <span class="token parameter variable">-w</span> <span class="token number">3</span> <span class="token parameter variable">-b</span> <span class="token number">127.0</span>.0.1:3500 app:app</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>启动应该仅限本地且端口禁止外部访问，因为待会要用nginx反代，外部访问应该都走nginx。</li><li>端口号用3500吧</li></ul><p>设置开机自启 <code>sudo systemctl enable gunicorn</code><br> 其他参数：<code>start</code>：启动，<code>stop</code>：停止，<code>status</code>：查看当前状态。</p><h3 id="手动重启-调试" tabindex="-1"><a class="header-anchor" href="#手动重启-调试"><span>手动重启（调试）</span></a></h3>`,14)),n("p",null,[n("a",I,[s[28]||(s[28]=e("gunicorn重新加载配置和应用")),l(a)])]),s[76]||(s[76]=t(`<p>修改flask的py代码后，需要重启gunicorn服务器，命令： <code>pstree -ap | grep gunicorn | tr -d &#39;\\n&#39; | awk -F, &#39;{print $2}&#39; | awk &#39;{print $1}&#39; | xargs kill -HUP</code></p><ul><li>前两个获取gunicorn的主进程和工作进程。</li><li>然后删去换行（因为awk会按行分别处理）</li><li>然后awk截取逗号后，空格前的内容</li><li>最后执行<code>kill -HUP 主进程id</code> 重启gunicorn</li></ul><h2 id="nginx-http" tabindex="-1"><a class="header-anchor" href="#nginx-http"><span>nginx (http)</span></a></h2><p>nginx连通80/443端口，外部访问时访问到nginx，nginx再转发到gunicorn运行的端口，起到反向代理的作用</p><p>参考</p><ul><li>nginx.org(免费版)</li><li>nginx.com(商业版)</li><li>更多示例参考 <code>/usr/share/doc/nginx-doc/examples/</code></li></ul><p>安装 <code>sudo apt install nginx</code></p><p>删掉<code>/etc/nginx/sites-enabled/default</code> (<code>sites-enabled</code>里的配置是从 <code>site-available</code> 链接过来的，只有<code>enabled</code>中的会生效。)</p><p>新建<code>/etc/nginx/sites-available/flask_gunicorn.conf</code>（然后再建立一个到sites-enabled的软链接）</p><div class="language-conf line-numbers-mode" data-highlighter="prismjs" data-ext="conf" data-title="conf"><pre><code><span class="line">server {</span>
<span class="line">    listen 80;</span>
<span class="line">    listen [::]:80;</span>
<span class="line">    server_name _;</span>
<span class="line">    access_log /var/log/nginx/flask_gunicorn-access.log;</span>
<span class="line">    error_log /var/log/nginx/flask_gunicorn-error.log;</span>
<span class="line"></span>
<span class="line">    location / {</span>
<span class="line">                proxy_set_header X-Real-IP $remote_addr;</span>
<span class="line">                proxy_set_header HOST $http_host;</span>
<span class="line">                proxy_pass http://127.0.0.1:3500;</span>
<span class="line">                proxy_redirect off;</span>
<span class="line">    }</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>这里端口号要和gunicorn设定的对应上</li></ul><p>重启nginx <code>sudo systemctl restart nginx</code></p><p>此时可以通过http访问。但是如果想使用https，需要先申请ssl证书</p><h2 id="https-ssl证书" tabindex="-1"><a class="header-anchor" href="#https-ssl证书"><span>https, ssl证书</span></a></h2>`,14)),n("ul",null,[n("li",null,[n("a",M,[s[29]||(s[29]=e("ssl检测评估网站")),l(a)])]),n("li",null,[n("a",P,[s[30]||(s[30]=e("腾讯云的ssl证书")),l(a)])])]),s[77]||(s[77]=n("p",null,"免费证书只能一次3个月,只能绑定域名不能绑ip。。。。",-1)),n("p",null,[s[32]||(s[32]=e("注册好域名了。 ")),n("a",Q,[s[31]||(s[31]=e("acme.sh")),l(a)]),s[33]||(s[33]=e(" 这个似乎可以自动部署和更新（后悔了，麻烦的一批，各种权限不足。下次试试certbot）"))]),s[78]||(s[78]=t('<h3 id="自签名证书" tabindex="-1"><a class="header-anchor" href="#自签名证书"><span>自签名证书</span></a></h3><p>先尝试一下不安全的自签名证书。使用这个，浏览器会提示不安全，最好不要访问。</p><ol><li>使用OpenSSL创建自签名SSL证书 <ol><li>生成私钥和证书签名请求 (CSR)： <code>openssl req -new -newkey rsa:2048 -nodes -keyout key.pem -out csr.pem</code></li><li>生成自签名的SSL证书： <code>openssl x509 -req -days 365 -in csr.pem -signkey key.pem -out cert.pem</code> 这会生成一个有效期为365天的证书 cert.pem，和一个私钥 key.pem。</li></ol></li><li>使用Flask启动HTTPS服务器 <code>app.run(ssl_context=(&#39;cert.pem&#39;, &#39;key.pem&#39;), host=&quot;0.0.0.0&quot;, port=443)</code></li></ol><h3 id="acme-sh" tabindex="-1"><a class="header-anchor" href="#acme-sh"><span>acme.sh</span></a></h3>',4)),n("p",null,[n("a",L,[s[34]||(s[34]=e("中文教程")),l(a)])]),s[79]||(s[79]=t('<h4 id="安装-1" tabindex="-1"><a class="header-anchor" href="#安装-1"><span>安装</span></a></h4><p>安装依赖 <code>apt install ca-certificates</code></p><p>安装 <code>curl https://get.acme.sh | sh -s email=my@example.com</code></p><ul><li>脚本存放在 <code>~/.acme.sh</code>目录下</li><li>自动创建 cronjob, 每天 0:00 点自动更新有需要更新的证书</li></ul><h4 id="生成证书" tabindex="-1"><a class="header-anchor" href="#生成证书"><span>生成证书</span></a></h4><p>一般有两种方式验证: http 和 dns 验证.</p><p>acme.sh脚本默认ca服务器是zerossl，经常出错，卡在 <code>Pending, The CA is processing your order, please just wait.</code> <br><strong>最好改成 letsencrypt</strong><code>acme.sh --set-default-ca --server letsencrypt</code></p><hr><p>http验证： http 方式需要在你的网站根目录下放置一个文件, 来验证你的域名所有权,完成验证. 然后就可以生成证书了. <code>acme.sh --issue -d dododonut.org -d www.dododonut.org --webroot ~/webroot/</code></p><p>不太懂啊，要不要先启动一个http服务器？端口号要用啥啊？？ 算了试试standalone模式</p><hr><p>如果你还没有运行任何 web 服务, 80 端口是空闲的, 那么 acme.sh 还能假装自己是一个webserver, 临时听在80 端口, 完成验证:<br><code>apt install socat # 安装依赖</code><br><code>acme.sh --issue -d dododonut.org -d www.dododonut.org --standalone</code></p>',12)),n("p",null,[s[37]||(s[37]=e("提示绑定80端口权限拒绝，请尝试root权限。真用了又提示别用root。")),s[38]||(s[38]=n("br",null,null,-1)),s[39]||(s[39]=e(" 参考")),n("a",X,[s[35]||(s[35]=e("github上的issue")),l(a)]),s[40]||(s[40]=e(", 原因是")),n("a",R,[s[36]||(s[36]=e("非root用户默认不能使用1024以下端口")),l(a)])]),s[80]||(s[80]=t(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 允许某程序绑定1024以下端口(不能是软链接所以要用socat1)</span></span>
<span class="line"><span class="token function">sudo</span> setcap <span class="token string">&#39;cap_net_bind_service=+ep&#39;</span> /usr/bin/socat1</span>
<span class="line"><span class="token comment"># 清除能力</span></span>
<span class="line"><span class="token function">sudo</span> setcap <span class="token parameter variable">-r</span> /usr/bin/socat</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>等几个pending之后就好了。</p><p><img src="`+k+`" alt="alt text"></p><h4 id="安装证书" tabindex="-1"><a class="header-anchor" href="#安装证书"><span>安装证书</span></a></h4><p>nginx示例</p><p>将证书导出到指定路径，并配置证书更新后的执行命令</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">acme.sh --install-cert <span class="token parameter variable">-d</span> dododonut.org <span class="token parameter variable">-d</span> www.dododonut.org <span class="token punctuation">\\</span></span>
<span class="line">--key-file       /home/lighthouse/flask/ssl/dododonut.org.key  <span class="token punctuation">\\</span></span>
<span class="line">--fullchain-file /home/lighthouse/flask/ssl/dododonut.org.crt <span class="token punctuation">\\</span></span>
<span class="line"><span class="token parameter variable">--reloadcmd</span>      <span class="token string">&quot;sudo service nginx force-reload&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>key</code>是私钥，<code>fullchain</code>是证书（完整证书链）</li><li><code>reloadcmd</code> 指定证书更新后的执行命令</li><li>因为普通用户所以没法把证书安装到<code>/etc/ssl</code>下。好在reloadcmd可以用sudo</li></ul><p>生成DH参数文件 提高安全性 <code>openssl dhparam -out /home/lighthouse/flask/ssl/dhparam.pem 2048</code></p><p>修改nginx配置文件<code>/etc/nginx/sites-available/flask_gunicorn.conf</code></p><div class="language-nginx line-numbers-mode" data-highlighter="prismjs" data-ext="nginx" data-title="nginx"><pre><code><span class="line"><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">listen</span> [::]:80</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">server_name</span> dododonut.org www.dododonut.org</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token directive"><span class="token keyword">return</span> <span class="token number">301</span> https://<span class="token variable">$server_name</span><span class="token variable">$request_uri</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">listen</span> <span class="token number">443</span> ssl</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">listen</span> [::]:443 ssl</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">server_name</span> dododonut.org www.dododonut.org</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">    <span class="token comment"># 指定 SSL 证书和私钥文件</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">ssl_certificate</span> /home/lighthouse/flask/ssl/dododonut.org.crt</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">ssl_certificate_key</span> /home/lighthouse/flask/ssl/dododonut.org.key</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token directive"><span class="token keyword">ssl_dhparam</span> /home/lighthouse/flask/ssl/dhparam.pem</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">    <span class="token comment"># HTTP 头配置（提升安全性）</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">add_header</span> Strict-Transport-Security <span class="token string">&quot;max-age=31536000; includeSubDomains; preload&quot;</span> always</span><span class="token punctuation">;</span>  <span class="token comment"># HSTS（强制 HTTPS）</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">add_header</span> X-Frame-Options <span class="token string">&quot;DENY&quot;</span> always</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">add_header</span> X-XSS-Protection <span class="token string">&quot;1; mode=block&quot;</span> always</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">add_header</span> X-Content-Type-Options <span class="token string">&quot;nosniff&quot;</span> always</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">    <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token directive"><span class="token keyword">proxy_set_header</span> X-Real-IP <span class="token variable">$remote_addr</span></span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token directive"><span class="token keyword">proxy_set_header</span> HOST <span class="token variable">$http_host</span></span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token directive"><span class="token keyword">proxy_pass</span> http://127.0.0.1:3500</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token directive"><span class="token keyword">proxy_redirect</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,11)),n("ul",null,[s[42]||(s[42]=n("li",null,"重定向http到https。301永久重定向 302临时重定向",-1)),s[43]||(s[43]=n("li",null,"添加ssl证书和DH参数的路径",-1)),n("li",null,[n("a",z,[s[41]||(s[41]=e("http响应头安全策略（nginx版）")),l(a)])])]),s[81]||(s[81]=t(`<p>重启nginx<br><code>sudo service nginx force-reload</code><br> 或<br><code>sudo systemctl restart nginx</code> （restart和reload不确定用哪个）</p><p>重启失败，报错</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">Job for nginx.service failed because the control process exited with error code.</span>
<span class="line">See &quot;systemctl status nginx.service&quot; and &quot;journalctl -xeu nginx.service&quot; for details.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>然而通过systemd启动的服务，根据提示却找不到报错日志。</p><p>手动启动来排查错误</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">sudo nginx -t # 检查配置文件</span>
<span class="line">sudo nginx -s reload # 重新加载配置文件</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>注意这里配置文件指的是nginx.conf而非 某网站的配置。<br> 不过reload的时候也读取了我的网站配置，报错提示密钥路径不存在。改正后再次启动，没问题了。</p><h2 id="vscode远程访问文件夹" tabindex="-1"><a class="header-anchor" href="#vscode远程访问文件夹"><span>vscode远程访问文件夹</span></a></h2>`,8)),n("ul",null,[n("li",null,[s[45]||(s[45]=e("安装插件 ")),n("a",J,[s[44]||(s[44]=e("Remote - SSH")),l(a)])]),n("li",null,[s[47]||(s[47]=e("参考")),n("a",Y,[s[46]||(s[46]=e("插件教程")),l(a)])])]),s[82]||(s[82]=t('<p>服务器系统: ubuntu24</p><p>本机：ubuntu22</p><h3 id="安装依赖" tabindex="-1"><a class="header-anchor" href="#安装依赖"><span>安装依赖</span></a></h3><p>服务器：<code>sudo apt install openssh-server</code></p><p>本机：<code>sudo apt install openssh-client</code></p><h3 id="生成密钥-本机" tabindex="-1"><a class="header-anchor" href="#生成密钥-本机"><span>生成密钥（本机</span></a></h3><p><code>ssh-keygen -t ed25519</code></p><p>没填密码。公钥文件默认保存在 <code>用户目录/.ssh</code></p><h3 id="公钥上传到服务器" tabindex="-1"><a class="header-anchor" href="#公钥上传到服务器"><span>公钥上传到服务器</span></a></h3>',9)),n("p",null,[s[49]||(s[49]=e("进入")),n("a",K,[s[48]||(s[48]=e("轻量云 SSH密钥")),l(a)]),s[50]||(s[50]=e(" - 创建密钥 - 使用已有公钥 填写刚才生成的pub文件内容，然后绑定实例。")),s[51]||(s[51]=n("br",null,null,-1)),s[52]||(s[52]=e(" 这种方式会绑定到ubuntu用户，ssh也只能登录这个用户。"))]),s[83]||(s[83]=t('<p>手动绑定到lighthouse用户：<br> 创建<code>/home/lighthouse/.ssh/authorized_keys</code> 并填入公钥内容。</p><h3 id="vscode连接" tabindex="-1"><a class="header-anchor" href="#vscode连接"><span>vscode连接</span></a></h3><p>本机打开vscode，点击左下角的两个箭头 - 连接到主机 输入 <code>lighthouse@服务器公网ip</code> <br> 连接后，左下角会显示已连接到的ip，点击可以断开连接。 终端、打开文件夹 会访问服务器上的。</p><p>vscode左侧有远程资源管理器，可以保存配置。</p><p><img src="'+g+'" alt="alt text"></p><p>选择一个配置文件后，还是输入用户名和ip<br> 鼠标点击箭头即可连接，列表中还会显示最近打开过的文件夹</p><p><img src="'+h+'" alt="alt text"></p>',7))])}const V=i(b,[["render",U],["__file","index.html.vue"]]),$=JSON.parse('{"path":"/blogs/2024/11/16-first-cloud-server/","title":"第一次购买云服务器及基本设置（域名，flask+gunicorn+nginx，ssl证书，vscode远程访问）","lang":"zh-CN","frontmatter":{"date":"2024-11-16 19:41","title":"第一次购买云服务器及基本设置（域名，flask+gunicorn+nginx，ssl证书，vscode远程访问）","categories":["linux","云服务器"],"tags":["云服务器","腾讯云","namesilo","域名","flask","gunicorn","nginx","ssl证书","vscode远程访问"]},"headers":[{"level":2,"title":"腾讯云","slug":"腾讯云","link":"#腾讯云","children":[]},{"level":2,"title":"域名","slug":"域名","link":"#域名","children":[]},{"level":2,"title":"flask web服务器","slug":"flask-web服务器","link":"#flask-web服务器","children":[]},{"level":2,"title":"gunicorn","slug":"gunicorn","link":"#gunicorn","children":[{"level":3,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":3,"title":"手动运行（http+ip访问）","slug":"手动运行-http-ip访问","link":"#手动运行-http-ip访问","children":[]},{"level":3,"title":"配置开机自动运行（systemd）","slug":"配置开机自动运行-systemd","link":"#配置开机自动运行-systemd","children":[]},{"level":3,"title":"手动重启（调试）","slug":"手动重启-调试","link":"#手动重启-调试","children":[]}]},{"level":2,"title":"nginx (http)","slug":"nginx-http","link":"#nginx-http","children":[]},{"level":2,"title":"https, ssl证书","slug":"https-ssl证书","link":"#https-ssl证书","children":[{"level":3,"title":"自签名证书","slug":"自签名证书","link":"#自签名证书","children":[]},{"level":3,"title":"acme.sh","slug":"acme-sh","link":"#acme-sh","children":[]}]},{"level":2,"title":"vscode远程访问文件夹","slug":"vscode远程访问文件夹","link":"#vscode远程访问文件夹","children":[{"level":3,"title":"安装依赖","slug":"安装依赖","link":"#安装依赖","children":[]},{"level":3,"title":"生成密钥（本机","slug":"生成密钥-本机","link":"#生成密钥-本机","children":[]},{"level":3,"title":"公钥上传到服务器","slug":"公钥上传到服务器","link":"#公钥上传到服务器","children":[]},{"level":3,"title":"vscode连接","slug":"vscode连接","link":"#vscode连接","children":[]}]}],"git":{"createdTime":1731821588000,"updatedTime":1731821588000,"contributors":[{"name":"ewt45","email":"79033456+ewt45@users.noreply.github.com","commits":1}]},"filePathRelative":"blogs/2024/11/16-first-cloud-server/index.md"}');export{V as comp,$ as data};
