import{_ as s,c as o,a as t,d as r,b as n,f as i,r as d,o as c,e as l}from"./app-lSJJfXGm.js";const p="/assets/1-BFVc-Bb7.png",x={},m={class:"table-of-contents"};function u(h,e){const a=d("router-link");return c(),o("div",null,[t("nav",m,[t("ul",null,[t("li",null,[n(a,{to:"#基础知识"},{default:i(()=>e[0]||(e[0]=[l("基础知识")])),_:1})]),t("li",null,[n(a,{to:"#绘制文字"},{default:i(()=>e[1]||(e[1]=[l("绘制文字")])),_:1})]),t("li",null,[n(a,{to:"#缺点"},{default:i(()=>e[2]||(e[2]=[l("缺点")])),_:1})])])]),e[3]||(e[3]=r('<h2 id="基础知识" tabindex="-1"><a class="header-anchor" href="#基础知识"><span>基础知识</span></a></h2><h2 id="绘制文字" tabindex="-1"><a class="header-anchor" href="#绘制文字"><span>绘制文字</span></a></h2><p>使用canvas.drawText 绘制文字。传入参数：文字，起始xy，paint。</p><hr><p>paint可以用来指定文字大小。</p><ul><li><code>mTextPaint.setTextSize(textSize);</code> 传入像素值，这个设置的貌似是文字高度，因为高度是固定的，但每个字符的宽度是不固定的。</li><li><code>mTextPaint.measureText(str)</code> 测量整个字符串绘制出来的宽度（按当前设置的文字大小）。可以用于和宽度限制对比并缩放文字大小。</li></ul><p>但是文字大小越小，字就越细，感觉像是整体缩放的一样，不知道为啥textview就不会这样。</p><hr><p>绘制时，传入的xy坐标：</p><ul><li>x是默认是文字最左侧位置，可以通过<code>mTextPaint.setTextAlign(Paint.Align.CENTER);</code> 设置为文字中央，或者最右侧。</li><li>y是文字基线的位置。基线一般在文字y轴中间偏下的部分，所以需要调整这个值，以便文字能绘制在区域的y轴正中间。</li><li><code>mTextPaint.ascent()</code> <code>mTextPaint.descent()</code> 是基线距离顶部（负数）和距离底部（正数）的距离。由于这两个不等，导致基线对应的y值不是绘制区域正中央的y值。如图所示，基线在黑色横线上。<br><img src="'+p+'" alt="alt text"><br> 调整方法：<code>绘制区域CenterY - (mTextPaint.ascent() + mTextPaint.descent()) / 2f</code>。ascent和descent加完之后是基线距离上下的差值，就是说基线向上移动这么多之后到上下端的距离就会反过来（即黄线的位置），那么向上移动二分之一这么多就刚好距离上下端大小相等了（即蓝线的位置）。</li></ul><h2 id="缺点" tabindex="-1"><a class="header-anchor" href="#缺点"><span>缺点</span></a></h2><ul><li>文字大小越小，字就越细，感觉像是整体缩放的一样，不知道为啥textview就不会这样。</li></ul>',12))])}const v=s(x,[["render",u],["__file","index.html.vue"]]),T=JSON.parse('{"path":"/blogs/2023/winter/androidViewCanvas/","title":"安卓View Canvas绘制","lang":"zh-CN","frontmatter":{"date":"2024-2-25 11:05:50","title":"安卓View Canvas绘制","categories":["android"],"tags":["android","canvas","paint"]},"headers":[{"level":2,"title":"基础知识","slug":"基础知识","link":"#基础知识","children":[]},{"level":2,"title":"绘制文字","slug":"绘制文字","link":"#绘制文字","children":[]},{"level":2,"title":"缺点","slug":"缺点","link":"#缺点","children":[]}],"git":{"createdTime":1708838016000,"updatedTime":1708838016000,"contributors":[{"name":"ewt45","email":"79033456+ewt45@users.noreply.github.com","commits":1}]},"filePathRelative":"blogs/2023/winter/androidViewCanvas/index.md"}');export{v as comp,T as data};
