import{_ as s,c as n,d as e,o as t}from"./app-lSJJfXGm.js";const l="/assets/2-CO0dTH0j.gif",i={};function p(o,a){return t(),n("div",null,a[0]||(a[0]=[e(`<h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h2><ul><li>使用第三方库实现gif背景播放 https://libraries.io/maven/pl.droidsonroids.gif:android-gif-drawable</li><li>使用工具： mt管理器 2.11.3</li><li>需要用到的文件： https://pan.baidu.com/s/1hHKe943jfTkYc4yPFxwO2w?pwd=c7ix</li></ul><h2 id="引入" tabindex="-1"><a class="header-anchor" href="#引入"><span>引入</span></a></h2><ol><li>用dex编辑器++打开dex，长按任意包名，导入smali.zip，选择导入到根目录。</li><li>将libpl_droidsonroids_gif.so放入apk/lib/armeabi-v7a中。</li></ol><h2 id="添加布局" tabindex="-1"><a class="header-anchor" href="#添加布局"><span>添加布局</span></a></h2><ol><li>将需要显示的gif图片放入apk/res/drawable中，重命名为gif_bg.gif。</li><li>用arsc编辑器++打开resources.arsc <ul><li>打开drawable/drawable，在末尾复制上面一行的path，并将name改成<code>gif_bg</code>，里面的路径改为<code>res/drawable/gif_bg.gif</code>；</li><li>打开drawable/type-info，复制一行上面的entry，并将id值+1，name改为<code>gif_bg</code>。</li></ul></li><li>在apk/res/layout中找到exagear主界面布局ed_main.xml，在其中找个合适的位置插入gif布局，我这里插入到了android.support.v7.widget.Toolbar的下面。<br> 将background设置为刚才在drawable/type-info中name填的字符串，高度宽度可以自己设置，下面那两个是设置居中。<div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pl.droidsonroids.gif.GifImageView</span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/gif_bg<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>72dp<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_alignParentTop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span></span>
<span class="line">    <span class="token attr-name"><span class="token namespace">android:</span>layout_centerHorizontal</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>确保dex，arsc，xml都编译通过，签名apk后安装打开，如果不闪退的话，那么此时gif应该显示了。如下图。<br><img src="`+l+'" alt="图2"></p>',7)]))}const r=s(i,[["render",p],["__file","index.html.vue"]]),d=JSON.parse('{"path":"/blogs/2022/summer/addGifImageView/","title":"为安卓界面布局添加gif图作为动态背景（exagear为例）","lang":"zh-CN","frontmatter":{"date":"2022-08-10 14:45","title":"为安卓界面布局添加gif图作为动态背景（exagear为例）","categories":["技术"],"tags":["android布局","exagear"]},"headers":[{"level":2,"title":"前言","slug":"前言","link":"#前言","children":[]},{"level":2,"title":"引入","slug":"引入","link":"#引入","children":[]},{"level":2,"title":"添加布局","slug":"添加布局","link":"#添加布局","children":[]}],"git":{"createdTime":1660119879000,"updatedTime":1660119879000,"contributors":[{"name":"ewt45","email":"79033456+ewt45@users.noreply.github.com","commits":1}]},"filePathRelative":"blogs/2022/summer/addGifImageView/index.md"}');export{r as comp,d as data};
